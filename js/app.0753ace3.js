(function(){"use strict";var e={609:function(e,t,s){var a=s(471),r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[e._m(0),t("form",[t("h1",[e._v("Форма создания Клиента")]),t("base-input",{staticClass:"required",attrs:{typeInp:"text",plcHold:"Фамилия"},model:{value:e.state.firstName,callback:function(t){e.$set(e.state,"firstName",t)},expression:"state.firstName"}}),e.v$.firstName.$error?t("base-error",{attrs:{msg:"Это поле должно содержать только буквы"}}):e._e(),t("base-input",{staticClass:"required",attrs:{typeInp:"text",plcHold:"Имя"},model:{value:e.state.secondName,callback:function(t){e.$set(e.state,"secondName",t)},expression:"state.secondName"}}),e.v$.secondName.$error?t("base-error",{attrs:{msg:"Это поле должно содержать только буквы"}}):e._e(),t("base-input",{attrs:{typeInp:"text",plcHold:"Отчество"},model:{value:e.state.surName,callback:function(t){e.$set(e.state,"surName",t)},expression:"state.surName"}}),t("base-input",{staticClass:"required",attrs:{typeInp:"date",plcHold:"Дата рождения"},model:{value:e.state.birthDay,callback:function(t){e.$set(e.state,"birthDay",t)},expression:"state.birthDay"}}),e.v$.birthDay.$error?t("base-error",{attrs:{msg:"Дата рождения содержит только цифры в формате мм/дд/гггг"}}):e._e(),t("base-input",{staticClass:"required",attrs:{typeInp:"tel",plcHold:"Номер телефона",maxlength:"11"},model:{value:e.state.contact.tel,callback:function(t){e.$set(e.state.contact,"tel",t)},expression:"state.contact.tel"}}),e.v$.contact.tel.$error?t("base-error",{attrs:{msg:"Телефон должен начинаться с цифры 7 и содержать 11 цифр"}}):e._e(),t("div",{staticClass:"radio-box"},[e._v(" Пол: "),e._l(e.data.sexData,(function(s){return t("label",{key:s,staticClass:"radio"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.state.sex,expression:"state.sex"}],attrs:{name:"sex",type:"radio"},domProps:{value:s,checked:e._q(e.state.sex,s)},on:{change:function(t){return e.$set(e.state,"sex",s)}}}),e._v(" "+e._s(s)+" ")])}))],2),t("multi-select",{staticClass:"required",attrs:{options:[{name:"VIP"},{name:"Проблемные"},{name:"ОМС"}],nameLabel:"groupClients",title:"Группа клиентов:",placeHol:"Выберите группу клиентов",bindLabel:"name",bindValue:"name"},on:{onVSelect:function(t){return e.setResult(t.target.value)}},model:{value:e.state.groupClients,callback:function(t){e.$set(e.state,"groupClients",t)},expression:"state.groupClients"}}),e.v$.groupClients.$error?t("base-error",{attrs:{msg:"Выберите из предложженых групп одну или более"}}):e._e(),t("base-select",{attrs:{name:"therapist",title:"Лечащий врач:",options:e.data.therapist,isMultip:!1},model:{value:e.state.therapist,callback:function(t){e.$set(e.state,"therapist",t)},expression:"state.therapist"}}),t("label",{staticClass:"label"},[e._v(" Отправлять СМС? "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.state.isSendSms,expression:"state.isSendSms"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.state.isSendSms)?e._i(e.state.isSendSms,null)>-1:e.state.isSendSms},on:{change:function(t){var s=e.state.isSendSms,a=t.target,r=!!a.checked;if(Array.isArray(s)){var l=null,n=e._i(s,l);a.checked?n<0&&e.$set(e.state,"isSendSms",s.concat([l])):n>-1&&e.$set(e.state,"isSendSms",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.state,"isSendSms",r)}}})]),t("h4",[e._v("Адрес")]),t("base-input",{attrs:{typeInp:"text",plcHold:"Индекс"},model:{value:e.state.adress.index,callback:function(t){e.$set(e.state.adress,"index",t)},expression:"state.adress.index"}}),t("base-input",{attrs:{typeInp:"text",plcHold:"Страна"},model:{value:e.state.adress.country,callback:function(t){e.$set(e.state.adress,"country",t)},expression:"state.adress.country"}}),t("base-input",{attrs:{typeInp:"text",plcHold:"Область"},model:{value:e.state.adress.state,callback:function(t){e.$set(e.state.adress,"state",t)},expression:"state.adress.state"}}),t("base-input",{staticClass:"required",attrs:{typeInp:"text",plcHold:"Город"},model:{value:e.state.adress.city,callback:function(t){e.$set(e.state.adress,"city",t)},expression:"state.adress.city"}}),e.v$.adress.city.$error?t("base-error",{attrs:{msg:"Это поле должно содержать только буквы"}}):e._e(),t("base-input",{attrs:{typeInp:"text",plcHold:"Улица"},model:{value:e.state.adress.street,callback:function(t){e.$set(e.state.adress,"street",t)},expression:"state.adress.street"}}),t("base-input",{attrs:{typeInp:"text",plcHold:"Дом"},model:{value:e.state.adress.house,callback:function(t){e.$set(e.state.adress,"house",t)},expression:"state.adress.house"}}),t("h4",[e._v("Документ подтверждающий личность")]),t("base-select",{staticClass:"required",attrs:{name:"passport",title:"Тип докумета:",options:e.data.passportType,isMultip:!1},model:{value:e.state.passport.type,callback:function(t){e.$set(e.state.passport,"type",t)},expression:"state.passport.type"}}),e.v$.passport.type.$error?t("base-error",{attrs:{msg:"Выберите один из предложенных документов"}}):e._e(),t("base-input",{attrs:{typeInp:"text",plcHold:"Серия"},model:{value:e.state.passport.serias,callback:function(t){e.$set(e.state.passport,"serias",t)},expression:"state.passport.serias"}}),t("base-input",{attrs:{typeInp:"text",plcHold:"Номер"},model:{value:e.state.passport.number,callback:function(t){e.$set(e.state.passport,"number",t)},expression:"state.passport.number"}}),t("base-input",{attrs:{typeInp:"text",plcHold:"Выдан"},model:{value:e.state.passport.issue,callback:function(t){e.$set(e.state.passport,"issue",t)},expression:"state.passport.issue"}}),t("base-input",{staticClass:"required",attrs:{typeInp:"date",plcHold:"Дата выдачи"},model:{value:e.state.passport.date,callback:function(t){e.$set(e.state.passport,"date",t)},expression:"state.passport.date"}}),e.v$.passport.date.$error?t("base-error",{attrs:{msg:"Дата выдачи содержит только цифры в формате мм/дд/гггг"}}):e._e(),t("input",{staticClass:"invisible",attrs:{id:"submit",type:"submit"}})],1),t("div",{staticClass:"btn-box"},[t("button",{staticClass:"btn",on:{click:e.submitForm}},[e._v("Submit")])])])},l=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"help"},[t("span",[e._v("*")]),e._v(" обязательные поля")])}],n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"input"},["date"===e.typeInp?t("p",{staticClass:"input__date"},[e._v(e._s(e.plcHold)+":")]):e._e(),t("input",{staticClass:"input__body",attrs:{placeholder:e.plcHold,type:e.typeInp},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}})])},i=[],o={name:"base-input",props:["value"],props:{plcHold:String,typeInp:String}},c=o,u=s(656),p=(0,u.A)(c,n,i,!1,null,"97fd2ba4",null),d=p.exports,m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"select"},[t("label",{staticClass:"select__label",attrs:{for:e.name}},[e._v(e._s(e.title)+" "),t("select",{staticClass:"select__list",attrs:{name:e.name,multiple:e.isMultip},domProps:{value:e.value},on:{change:function(t){return e.$emit("input",t.target.value)}}},e._l(e.options,(function(s){return t("option",{key:s,staticClass:"select__item",domProps:{value:s}},[e._v(" "+e._s(s)+" ")])})),0)]),e.isMultip?t("label",{staticClass:"select__help"},[e._v("*Для выбора нескольких элементов зажмите ctrl(command) и нажмите левой кнопкой мыши по нужному элементу")]):e._e()])},v=[];var f={name:"base-select",props:["value"],props:{title:String,name:String,isMultip:Boolean,options:[]}},b=f,h=(0,u.A)(b,m,v,!1,null,"44e665c4",null),y=h.exports,_=function(){var e=this,t=e._self._c;return t("div",{staticClass:"error"},[e._v(" "+e._s(e.msg)+" ")])},g=[],x={name:"base-error",props:{msg:String}},S=x,w=(0,u.A)(S,_,g,!1,null,"308963b2",null),C=w.exports,$=s(639),k=s(855),q=function(){var e=this,t=e._self._c;return t("div",{ref:"selectWrapperRef",staticClass:"select__wrapper"},[t("label",{staticClass:"select__label",attrs:{for:e.nameLabel}},[e._v(e._s(e.title)+" "),t("div",{staticClass:"base__dropdown-select",on:{click:e.showDropdown}},[t("div",{staticClass:"base__dropdown-select-item"}),t("select",{ref:"multiselectRef",class:e.styleSelectClass},[t("option",{attrs:{value:""}},[e._v(e._s(e.message))])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"dropdownRef",class:e.styleDropdownClass,on:{change:function(t){return e.$emit("input",e.selected)}}},[e.hasSearch?t("div",{class:e.styleSearchClass},[t("label",[e._v("Search (min 3): "),t("span",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.filter,expression:"filter"}],attrs:{type:"text"},domProps:{value:e.filter},on:{input:function(t){t.target.composing||(e.filter=t.target.value)}}}),t("button",{attrs:{disabled:e.filter.length<1},on:{click:function(t){e.filter=""}}},[e._v(" Clear ")])])])]):e._e(),t("ul",[t("li",{directives:[{name:"show",rawName:"v-show",value:e.filter.length<3,expression:"filter.length < 3"}]},[t("label",[t("input",{ref:"toggleAllIdRef",attrs:{type:"checkbox"},on:{change:function(t){return e.toogleAll(t.target.checked)}}}),t("span"),t("strong",[e._v("Select All")])])]),e._l(e.options,(function(s,a){return t("li",{key:`fsjh${a}ruei`},[t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],attrs:{type:"checkbox"},domProps:{value:s[e.bindValue],checked:Array.isArray(e.selected)?e._i(e.selected,s[e.bindValue])>-1:e.selected},on:{change:function(t){var a=e.selected,r=t.target,l=!!r.checked;if(Array.isArray(a)){var n=s[e.bindValue],i=e._i(a,n);r.checked?i<0&&(e.selected=a.concat([n])):i>-1&&(e.selected=a.slice(0,i).concat(a.slice(i+1)))}else e.selected=l}}}),t("span"),e._v(" "+e._s(s[e.bindLabel]))])])}))],2)])])])},A=[],N={name:"multi-select",props:{options:{type:Array,required:!0},placeHol:{type:String,required:!1},bindLabel:{type:String,required:!1},bindValue:{type:String,required:!1},preSelected:{type:Array,required:!1},styleSelectClass:{type:String,required:!1},styleDropdownClass:{type:String,required:!1},styleSearchClass:{type:String,required:!1},hasSearch:{type:Boolean,required:!1},title:{type:String,required:!1},nameLabel:{type:String,required:!0}},setup(e,{emit:t}){const s=(0,a.EW)((()=>e.options)),r=(0,a.KR)(s.value||[]),l=(0,a.KR)(!1),n=(0,a.EW)((()=>{const t=m.value.length,a=s.value.length;if(0==t)return e.placeHol;if(1==t){const e=s.value.filter((e=>e[d.value]==m.value[0]));if(e.length>0)return e[0][p.value]}else if(t<=a)return m.value.join(", ")})),i=(0,a.KR)(null),o=(0,a.KR)(null),c=(0,a.KR)(null),u=(0,a.KR)(null),p=(0,a.KR)(e.bindLabel||"label"),d=(0,a.KR)(e.bindValue||"value"),m=(0,a.KR)(e.preSelected?[...e.preSelected]:[]),v=(0,a.KR)(e.styleSelectClass||"base__select-class"),f=(0,a.KR)(e.styleDropdownClass||"base__dropdown-class"),b=(0,a.KR)(e.styleSearchClass||"base__search-select"),h=(0,a.KR)(e.hasSearch||!1),y=(0,a.KR)(""),_=()=>{const e=l.value;l.value=!0,e||setTimeout((()=>{window.addEventListener("click",S)}),50)},g=()=>{l.value=!1},x=e=>{m.value=[],e&&r.value.forEach((e=>{m.value.push(e[d.value])}))},S=e=>{e.target!==c.value&&e.composedPath().includes(c.value)||(g(),window.removeEventListener("click",S))};return(0,a.wB)((()=>s.value),(e=>{r.value=[...e]}),{deep:!0}),(0,a.wB)((()=>m.value),(e=>{t("onVSelect",e),m.value.length==s.value.length?u.value.checked=!0:u.value.checked=!1}),{deep:!0}),(0,a.wB)((()=>y.value),(e=>{e.length>=3?r.value=s.value.filter((e=>e[p.value].toLowerCase().includes(y.value.toLowerCase()))):r.value=[...s.value]})),{options:r,show:l,multiselectRef:i,selectWrapperRef:o,dropdownRef:c,toggleAllIdRef:u,bindLabel:p,bindValue:d,showDropdown:_,selected:m,styleSelectClass:v,styleDropdownClass:f,styleSearchClass:b,hasSearch:h,filter:y,message:n,toogleAll:x}}},R=N,H=(0,u.A)(R,q,A,!1,null,"a0597f40",null),I=H.exports;const K=e=>{if(/^[\p{L}]+$/u.test(e))return!0},L=(0,a.KR)([]),D=e=>{L.value=[...e]},P={sexData:["м","ж"],therapist:["Иванов","Захаров","Чернышева"],passportType:["Паспорт","Свидетельство о рождении","Вод. удостоверение"]};var O={name:"App",components:{BaseInput:d,BaseSelect:y,BaseError:C,MultiSelect:I},setup(){const e=(0,a.Kh)({firstName:"",secondName:"",surName:"",birthDay:"",contact:{tel:""},sex:"",groupClients:[],therapist:"",isSendSms:!1,adress:{index:"",country:"",state:"",city:"",street:"",house:""},passport:{type:"",serias:"",number:"",issue:"",date:""}}),t=(0,a.EW)((()=>({firstName:{required:k.mw,isAlpha:K},secondName:{required:k.mw,isAlpha:K},surName:{},birthDay:{required:k.mw},contact:{tel:{required:k.mw,maxLength:(0,k.Ru)(11),minLength:(0,k.Bp)(11),numeric:k.sH,isPhone(e){if("7"===e[0]||7===e[0])return!0}}},sex:{},groupClients:{required:k.mw},therapist:{},isSendSms:{},adress:{index:{},country:{},state:{},city:{required:k.mw,isAlpha:K},street:{},house:{}},passport:{type:{required:k.mw},serias:{},number:{},issue:{},date:{required:k.mw}}}))),s=(0,$.fG)(t,e);return{data:P,setResult:D,state:e,v$:s}},methods:{async submitForm(){const e=await this.v$.$validate();e?(document.querySelector("#submit").click(),alert(`Новый клиент ${this.state.firstName} ${this.state.secondName} ${this.state.surName} успешно создан`)):window.scrollTo({top:0,behavior:"smooth"})}}},V=O,B=(0,u.A)(V,r,l,!1,null,null,null),j=B.exports;a.Ay.config.productionTip=!1,a.Ay.config.devtools=!0,new a.Ay({render:function(e){return e(j)}}).$mount("#app")}},t={};function s(a){var r=t[a];if(void 0!==r)return r.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,s),l.exports}s.m=e,function(){var e=[];s.O=function(t,a,r,l){if(!a){var n=1/0;for(u=0;u<e.length;u++){a=e[u][0],r=e[u][1],l=e[u][2];for(var i=!0,o=0;o<a.length;o++)(!1&l||n>=l)&&Object.keys(s.O).every((function(e){return s.O[e](a[o])}))?a.splice(o--,1):(i=!1,l<n&&(n=l));if(i){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[a,r,l]}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,l,n=a[0],i=a[1],o=a[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(o)var u=o(s)}for(t&&t(a);c<n.length;c++)l=n[c],s.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return s.O(u)},a=self["webpackChunkform"]=self["webpackChunkform"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(609)}));a=s.O(a)})();
//# sourceMappingURL=app.0753ace3.js.map
